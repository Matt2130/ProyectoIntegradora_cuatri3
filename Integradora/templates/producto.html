<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>producto</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/producto.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/menu.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/footer.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/cargando.css') }}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='image/favicon.ico') }}" type="image/x-icon">
    <script src="{{ url_for('static', filename='js/footer.js') }}"></script>
    <script src="{{ url_for('static', filename='js/menu.js') }}"></script>
    <script src="{{ url_for('static', filename='js/producto.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <header id="header">
        <img src="{{ url_for('static', filename='image/logo_sin_letras.png') }}" alt="logo" id="logo">
        <input type="checkbox" id="btn-menu"> <!-- Checkbox visible, no se muestra en la navegación -->
        <label for="btn-menu">
            <img src="{{ url_for('static', filename='image/options.svg') }}" alt="menu" id="iconmenu">
        </label>
        <nav id="menu">
            <ul>
                <li><a href="/">inicio</a></li>
                <li><a href="/catalogo">Productos</a></li>
                {% if inicio %}
                    <li><a href="/cuenta_usuario">Administrar cuenta</a></li>
                {% endif %}
                {% if admin %}
                    <li><a href="/administrador">Administrar</a></li>
                {% endif %}
            </ul>
            {% if inicio %}
                <button id="salir">Cerrar sesión</button>
            {% else %}
                <button id="iniciar" onclick="window.location.href='/inicio_usuario'">Iniciar sesión</button>
                <button id="registrarse" onclick="window.location.href='/inicio_usuario'">Registrarse</button>
            {% endif %}
        </nav>
    </header>
    <div id="loading" class="loading-overlay" style="display: none;">
        <div class="loader"></div>
    </div>
    <!--Modal para editar-->
    <div id="miModal2" class="modal">
        <div class="modal-contenido" id="edicion_contenido">
            
            
        </div>
    </div>
    <main>
        <div class="container">
            <div id="spa-imagenes">
                <img src="{{ url_for('static', filename='image/imagenes_productos/' + cont.url_imagen) }}" alt="{{ cont.Name}}">
            </div>
            <div id="spa-info">
                <h2 id="nombre-producto"></h2>
                <table>
                    <tr>
                        <td>
                            <h3>Nombre:</h3>
                            <p>{{ cont.Name }}</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="izq"><h3>Material:</h3>
                            <p>
                                {{ cont.Material_composition }}
                            </p><div id="material-producto"></div></td>
                        <td class="der"><h3>Modelo:</h3>
                            <p>
                                {{ cont.Model }}
                            </p><div id="modelo-producto"></div></td>
                    </tr>
                    <tr>
                        <td class="izq"><h3>Color:</h3>
                            <p>
                                {{ cont.Color }}
                            </p>
                            <div class="info-text"  id="color-producto"></div></td>
                        <td class="der"><h3>Tamaño:</h3>
                            <p>
                                {{ cont.Size }}
                            </p><div class="info-text" id="tamaño-producto"></div></td>
                    </tr>
                    <tr>
                        <td class="izq"><h3>Temporada:</h3>
                            <p>
                                {{ cont.season }}
                            </p><div class="info-text" id="temporada-producto"></div></td>
                        <td class="der"><h3>Precio:</h3>
                            <p>
                                ${{ cont.Price_per_unit }}
                            </p><div class="info-text" id="precio-producto"></div></td>
                    </tr>
                    <tr>
                        <td colspan="2"><h3>Descripción:</h3>
                            <p>
                                {{ cont.Description }}
                            </p><div class="info-text" id="descripcion-producto"></div></td>
                    </tr>
                </table>
            </div>
        </div>
        <div id="comentarios">
            <!-- sección para usuarios registrados -->
            {% if inicio %}
            <div id="nuevocomentario">
                <input type="number" name="" id="califa">
                <textarea name="" id="nuevo-comentario" placeholder="Escribe un comentario"></textarea>
                <button id="registrar" onclick="registrarcomentario()">Subir comentario</button>
            </div>  
            {% endif %}
            <!-- sección para todos los usuarios -->
            <div class="comentario" id="comentario_del_producto">
                <h1>Comentarios</h1>
                <div id="comentario_del_producto">

                </div>
            </div>
        </div>
    </main>
    <footer>
        <div id="menu">
            <p>
                Menu
            </p>
            <ul>
                <li><a href="#contactos">Contactos</a></li>
                <li><a href="#acercadenosotros">Acerca de nosotros</a></li>
                <li><a href="#ubicacion">Ubicacion</a></li>
                <li><a href="#productos">Productos</a></li>
            </ul>
        </div>
        <div id="contactos">

        </div>
        <div id="derechos_reservados">
            <div>
                <img src="{{ url_for('static', filename='image/LOGO.png') }}" alt="logo" id="logo">
                <p>
                    ®Blancos y confecciones de durango S.A. de C.V.
                </p>
            </div>
        </div>
    </footer>
                    <style>
                        td {
                            max-width: 100px;
                            overflow: hidden;
                            text-overflow: ellipsis;
                            white-space: nowrap;
                            cursor: pointer;
                        }
                        td.expanded {
                            white-space: normal;
                            max-width: none;
                        }
                    </style>
                    <script>
                        function toggleText(element) {
                            if (element.classList.contains('expanded')) {
                                element.classList.remove('expanded');
                                element.innerText = 'Texto largo que se acorta...';
                            } else {
                                element.classList.add('expanded');
                                element.innerText = 'Texto largo que se acorta y se muestra completo al hacer clic.';
                            }
                        }
                    </script>
</body>
</html>